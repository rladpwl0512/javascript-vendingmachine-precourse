# 🥤 자판기

 ## 🎯 기능 구현 목록  
**화면에 렌더링하는 기능 구현**
- [x] 탭 메뉴버튼 렌더링 한다.  
  - 상품 관리탭으로 이동하는 메뉴 버튼 id는 product-add-menu이다.
  - 잔돈 충전탭으로 이동하는 메뉴 버튼 id는 vending-machine-manage-menu이다.
  - 상품 구매 탭으로 이동하는 메뉴 버튼 id는 product-purchase-menu이다.
- [x] 요구사항에 나와있는 dom선택자를 참고하여, 아래 기능을 구현한다. 
  - [x] 상품 관리 버튼을 클릭하면, 상품 관리 관련 화면이 렌더링된다. 
  - [x] 잔돈 충전 버튼을 클릭하면, 잔돈 충전 관련 화면이 렌더링된다. 
  - [x] 상품 구매 버튼을 클릭하면, 상품 구매 관련 화면이 렌더링된다. 

**1. 상품 관리 탭 기능 구현**
- [x] 최초 상품 목록은 비워진 상태이다. 
- [x] 상품명, 가격, 수량을 입력한 후 추가하기를 클릭(엔터)한다.
- [x] 입력한 값이 유효한지 확인한다. 유효하지 않으면 alert창을 띄우고 다시 입력할 수 있도록 한다. 
  - [예외] 상품명: 공백인 경우 
  - [예외] 가격: 공백인 경우 
  - [예외] 가격: 상품가격이 100원 미만일 경우
  - [예외] 가격: 상품가격이 10원으로 나눠지지 않는 경우
  - [예외] 수량: 공백인 경우
  - [예외] 수량: 1 미만인 경우 
- [x] 입력한 값이 유효하면 상품 현황 테이블에 추가된다. 
- [x] input값을 reset한다. 

**2. 잔돈 충전 탭 기능 구현**
- [x] 최초 자판기가 보유한 금액은 0원이며, 각 동전의 개수는 0개이다.
- [x] 사용자는 충전할 금액을 입력한 후, 충전하기 버튼을 클릭(엔터)한다.     
- [x]  사용자가 입력한 값이 유효한지 확인한다. 유효하지 않으면 alert창을 띄우고 다시 입력할 수 있도록 한다. 
  - [예외] 공백인 경우
  - [예외] 상품가격이 10원 미만인 경우 
  - [예외] 상품가격이 10원으로 나눠지지 않는 경우
- [x] 사용자가 입력한 값이 유효하면, 보유 금액만큼의 동전이 무작위로 생성된다. (MissionUtils 라이브러리의 Random.pickNumberInList를 사용해 구한다)
  - 동전의 개수는 {개수}개 형식으로 나타낸다.
  - 자판기 보유 금액은 {금액}원 형식으로 나타낸다.
- [x] 자판기 보유 금액을 누적하여 충전할 수 있다. 추가 충전 금액만큼의 동전이 무작위로 생성되어 기존 동전들에 더해진다. 

**3. 상품 구매 탭 기능 구현**
**(0) 초기구현**
- [x] '상품 관리 탭'에서 추가한 상품 리스트를 불러온다. (localStorage에 있으면 불러온다.)

**(1) 금액 투입 기능 구현**
- [x] 상품 구매 페이지에서 최초 충전 금액은 0원이다.
- [x] 사용자는 투입할 금액 입력 요소에 투입 금액을 입력한 후, 투입하기 버튼을 클릭(엔터)한다.
- [x] 사용자가 입력한 값이 유효한지 확인한다. 유효하지 않으면 alert창을 띄우고 다시 입력할 수 있도록 한다. 
  - [예외] 공백인 경우
  - [예외] 10원으로 나눠지지 않는 경우
- [x] 입력한 것이 유효한 값이라면, '투입한 금액: {투입한 금액}'으로 입력한 돈을 표기한다. 
- [x] 금액은 누적으로 투입할 수 있으며, '투입한 금액: {투입한 금액}'의 값에 더한다. 

**(2) 상품을 구매하는 기능 구현**
- [x] 구매하기 버튼을 클릭하면, 현재 보유한 금액에서 상품을 구매할 수 있는지 확인하고 구매할 수 없으면, alert 창을 띄운다. 
  - [예외] 보유한 금액보다 상품 가격이 더 높은 경우 
- [x] 구매하기 버튼을 클릭하면, {수량-1}을 해준다. 
  - [x] localStorage를 함께 업데이트 시켜준다. (dataset을 활용한다.)
- [x] 구매하기 버튼을 클릭하면, {투입한 금액-구매한 상품가격}을 해준다. 

**(3) 잔돈을 반환하는 기능 구현**
- [x] 상품 구매 페이지에서 최초 반환된 각 동전의 개수는 0개이다
- [x] 사용자는 반환하기 버튼을 클릭 한다. 
- [x] '잔돈 충전 탭'에서 충전한 동전의 개수 내에서, 잔돈을 받을 수 있다. 
  - 잔돈을 돌려줄 때는 현재 보유한 '최소 개수의 동전'으로 잔돈을 돌려준다.
  - 잔돈을 반환할 수 없는 경우, 잔돈으로 반환할 수 있는 금액만 반환한다.
- [x] 반환한 동전의 개수가 {개수}개 형식으로 나타난다. 
- [x] 받은 잔돈만큼, 투입한 금액: {투입한 금액-잔돈}을 출력한다. 


## 리팩터링
- [x] 상수화(메시지, 숫자)

- [ ] productPurchaseModel 리팩터링
- [ ] this.amount 명시적으로 이름 바꾸기 
- [ ] 구매할 수 없을 때, 수량 -1 되는 것 막음 
- [ ] 상품 구매 탭도 다시 클릭했을 때 가져올 수 있도록 함 

- [ ] alert를 views로 옮기기 (models-views 서로 부르면 안됨)
- [ ] 함수(또는 메소드)의 길이가 15라인을 넘어가지 않도록 구현한다. (eslint 속성 추가)
  - 함수(또는 메소드)가 한 가지 일만 잘 하도록 구현한다.
- [ ] 피드백 
- [x] autofocus(사용성)
- [x] mvc의 역할(폰 캡처 참고)
- [x] 반환이 적게 됐을 때, 다시 충전 누르면 제대로 보유금액이 더해지지 않는 문제 fix
- [x] 0원 투입했을 때 alert
- [x] 수량이 0이 됐을 때 (누르면 -1되는것)
- [x] css 연결 html파일에 하드코딩 
## ❗️ 제출 전 확인하기 
- [ ] 피드백 확인(저번주차도)
- [ ] (페이지에서) 목록 다시 확인 
- [ ] 주석 삭제 
- [ ] 디버깅 console.log 없는지 확인
- [ ] npm run test 

# 예상
- [ ] 삭제 
- [ ] '사이다' 있을 때, 상품추가하면 기존 '사이다'키에 더해지도록 함 (중복된 상품일 때)
- [ ] 갯수 0 됐을 때, 목록에서 삭제함 
- [ ] 만약 최초 상품 목록이 있을 때 ? (작년 미션 참고)
